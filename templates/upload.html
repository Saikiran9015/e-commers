<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Add Product – Admin</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">

  <style>
    body { font-family: 'Poppins', sans-serif; background:#f5f5fb; margin:0; }
    .admin-shell { max-width: 900px; margin:40px auto; background:#fff; border-radius:18px;
                   box-shadow:0 10px 30px rgba(0,0,0,.06); padding:30px 35px; }
    h1 { margin-top:0; font-size:24px; }
    .row { display:flex; gap:20px; margin-bottom:18px; flex-wrap:wrap; }
    label { font-weight:600; font-size:14px; display:block; margin-bottom:4px; }
    input[type="text"], input[type="number"], textarea {
      width:100%; padding:10px 12px; border-radius:10px; border:1px solid #ddd; font-size:14px;
    }
    textarea { min-height:130px; resize:vertical; }

    .image-upload-box {
      flex:1 1 180px;
      border:2px dashed #d0d0f7;
      border-radius:14px;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      padding:18px;
      text-align:center;
      cursor:pointer;
      background:#fafbff;
    }

    .image-upload-box span.plus {
      font-size:32px; margin-bottom:8px; color:#6a35ff;
    }

    .pill-sizes { display:flex; gap:10px; flex-wrap:wrap; }

    .pill-sizes label {
      border-radius:999px;
      border:1px solid #d0d0f7;
      padding:6px 14px;
      cursor:pointer;
      font-weight:500;
      display:flex;
      align-items:center;
      gap:6px;
    }

    .stock-grid { display:flex; gap:12px; flex-wrap:wrap; margin-top:10px; }

    .stock-box {
      background:#f8f7ff;
      border-radius:10px;
      padding:8px 10px;
      min-width:80px;
    }

    .btn-main {
      background:#6a35ff; color:#fff; border:none; padding:12px 22px;
      border-radius:10px; font-size:15px; cursor:pointer; margin-top:18px;
    }
    .btn-main:hover { background:#5527ff; }

    .top-bar { display:flex; justify-content:space-between; align-items:center; margin-bottom:20px; }

    .link-back { font-size:14px; text-decoration:none; color:#6a35ff; }

    .admin-nav {
      display:flex;
      gap:10px;
      padding:12px 30px;
      background:#fff;
      box-shadow:0 3px 12px rgba(0,0,0,0.06);
      margin-bottom:20px;
    }

    .admin-tab {
      padding:10px 18px;
      border:none;
      background:#eee;
      border-radius:8px;
      cursor:pointer;
    }

    .admin-tab.active {
      background:#6a35ff;
      color:white;
    }
  </style>
</head>

<body>
  <header class="admin-header">
      <div class="landing-logo">
        <img src="{{ url_for('static', filename='4.png') }}" class="logo-img" alt="Logo">
    </div>
    <div>
      {% if session.get('name') %}
        <span style="margin-right:12px;">
          {{ session.get('name') }} ({{ session.get('role') }})
        </span>
        <a href="{{ url_for('logout') }}" class="landing-admin-link">Logout</a>
      {% endif %}
    </div>
  </header>

<nav class="admin-nav">

  <a href="{{ url_for('admin_dashboard') }}">
    <button class="admin-tab {{ 'active' if active_page=='dashboard' else '' }}">Dashboard</button>
  </a>

  <a href="{{ url_for('admin_products') }}">
    <button class="admin-tab {{ 'active' if active_page=='products' else '' }}">Products</button>
  </a>

  <a href="{{ url_for('add_product') }}">
    <button class="admin-tab {{ 'active' if active_page=='upload' else '' }}">Product Images</button>
  </a>

  <a href="{{ url_for('admin_analytics') }}">
    <button class="admin-tab {{ 'active' if active_page=='analytics' else '' }}">Analytics</button>
  </a>

  <a href="{{ url_for('admin_banners') }}">
    <button class="admin-tab {{ 'active' if active_page=='banners' else '' }}">Banners</button>
  </a>

</nav>

<div class="admin-shell">

  <div class="top-bar">
    <h1>Add New Product</h1>
    <a href="{{ url_for('admin_dashboard') }}" class="link-back">← Back to Dashboard</a>
  </div>

  <form action="{{ url_for('add_product') }}" method="POST" enctype="multipart/form-data">

    <div class="row">
      <div style="flex:2">
        <label>Product Name</label>
        <input type="text" name="name" required placeholder="GENJUTSU Hoodie">
      </div>
      <div style="flex:1">
        <label>Price (₹)</label>
        <input type="number" step="0.01" name="price" required placeholder="699">
      </div>
      <div style="flex:1">
        <label>Old Price (₹) (optional)</label>
        <input type="number" step="0.01" name="old_price" placeholder="1399">
      </div>
    </div>

    <div class="row">
      <div style="flex:1">
        <label>Description</label>
        <textarea name="description" required placeholder="Write product description here..."></textarea>
      </div>
    </div>

    <div class="row">
      <div style="flex:1">
        <label>Product Images (up to 4)</label>
        <label class="image-upload-box">
          <span class="plus">+</span>
          <div>Click to choose up to 4 images</div>
          <input type="file" name="images" accept="image/*" multiple required style="opacity: 0; position: absolute; z-index: -1; width: 0; height: 0;">
          <!-- <input type="file" name="images" accept="image/*" multiple="" required="" style="display:none;"> -->
        </label>
      </div>
    </div>

    <div class="row">
      <div style="flex:1">
        <label>Available Sizes</label>
        <div class="pill-sizes">
          {% for s in ["S","M","L","XL","XXL"] %}
          <label>
            <input type="checkbox" name="sizes" value="{{ s }}"> {{ s }}
          </label>
          {% endfor %}
        </div>
      </div>
    </div>

    <div class="row">
      <div style="flex:1">
        <label>Stock Count per Size</label>
        <div class="stock-grid">
          {% for s in ["S","M","L","XL","XXL"] %}
          <div class="stock-box">
            <div style="font-size:13px; font-weight:600;">Size {{ s }}</div>
            <input type="number" name="stock_{{ s }}" min="0" value="0">
          </div>
          {% endfor %}
        </div>
      </div>
    </div>

    <!-- ⭐⭐ DEFAULT RATING (ADMIN ONLY) -->
    <div class="row">
      <div style="flex:1">
        <label>Default Rating (0 - 5)</label>
        <input type="number"
               step="0.1"
               min="0"
               max="5"
               name="rating"
               placeholder="4.5">
        <small style="color:#777;">Admin Only. Customers cannot edit.</small>
      </div>
    </div>

    <button type="submit" class="btn-main">Upload Product</button>

  </form>
</div>

</body>
</html>
